<div class="container mt-4">
  <a class="text-decoration-none" href="/">Â« Back to Main Dashboard</a>

  <div class="mt-3">
    <h3 class="fw-semibold">System configuration</h3>

    <ul class="nav nav-tabs mb-3">
      <li class="nav-item" *ngFor="let tab of tabs">
        <a class="nav-link cursor-pointer" [class.active]="activeTab === tab" (click)="setActiveTab(tab)"
          href="javascript:void(0)">{{tab}}</a>
      </li>
    </ul>

    <div *ngIf="activeTab === 'All Events'">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h5>Event List</h5>
        <button class="btn btn-primary btn-sm" (click)="openCreateForm()">+ New Event</button>
      </div>

      <div *ngIf="showForm()" class="card mb-3 p-3 bg-light">
        <h5>{{isEditing() ? 'Edit Event' : 'Create Event'}}</h5>
        <form (ngSubmit)="saveEvent()">
          <div class="mb-2">
            <label class="form-label">Event Name</label>
            <input type="text" class="form-control" [(ngModel)]="formEvent.name" name="name" required>
          </div>
          <div class="mb-2">
            <label class="form-label">Event Code</label>
            <input type="text" class="form-control" [(ngModel)]="formEvent.eventCode" name="eventCode" required>
          </div>
          <div class="mb-2">
            <label class="form-label">Location</label>
            <input type="text" class="form-control" [(ngModel)]="formEvent.location" name="location">
          </div>
          <div class="mb-2">
            <label class="form-label">Date</label>
            <input type="text" class="form-control" [(ngModel)]="formEvent.date" name="date">
          </div>
          <div class="d-flex gap-2">
            <button type="submit" class="btn btn-success">Save</button>
            <button type="button" class="btn btn-secondary" (click)="cancelForm()">Cancel</button>
          </div>
        </form>
      </div>

      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>Code</th>
            <th>Name</th>
            <th>Location</th>
            <th>Date</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let event of events()">
            <td>{{event.eventCode}}</td>
            <td>{{event.name}}</td>
            <td>{{event.location}}</td>
            <td>{{event.date}}</td>
            <td>
              <button class="btn btn-sm btn-outline-info me-2" (click)="setSystemEvent(event)">Set Active</button>
              <button class="btn btn-sm btn-outline-primary me-2" (click)="openEditForm(event)">Edit</button>
              <button class="btn btn-sm btn-outline-danger" (click)="deleteEvent(event)">Delete</button>
            </td>
          </tr>
          <tr *ngIf="events().length === 0">
            <td colspan="5" class="text-center">No events found.</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div *ngIf="activeTab === 'Event Tools'">
      <h3 class="fw-semibold">Event Administration</h3>
      <ol>
        <li class="mt-3"><a class="p-0 m-0 text-decoration-none" href="/event-dashboard/create-account">Manage Event
            Accounts</a></li>
      </ol>

      <h3 class="fw-semibold">Event manager</h3>
      <ol>
        <li class="mt-3"><a class="p-0 m-0 text-decoration-none" href="/event-dashboard/manage-team">Add/Edit Teams</a>
        </li>
        <li class="mt-3"><a class="p-0 m-0 text-decoration-none" href="/event-dashboard/generate-schedule">Generate
            Match Schedule</a></li>
      </ol>
    </div>

  </div>

</div>
